[gd_scene load_steps=54 format=3 uid="uid://c7a2wxy73qjrg"]

[ext_resource type="Script" uid="uid://bvgrnamj8qykk" path="res://level.gd" id="1_ait7k"]
[ext_resource type="PackedScene" uid="uid://dq06tkbxkyap6" path="res://player.tscn" id="1_u52ul"]
[ext_resource type="Shader" uid="uid://ble2iu8foadd3" path="res://shaders/edge_detection.gdshader" id="2_oi3di"]
[ext_resource type="Shader" uid="uid://uqqc38yp8e6r" path="res://water_shader.gdshader" id="3_v7sqt"]
[ext_resource type="Script" uid="uid://fl7iy1cqglhi" path="res://camera_3d.gd" id="4_km5ld"]
[ext_resource type="PackedScene" uid="uid://302mkin1qqye" path="res://fps.tscn" id="7_n6hdu"]
[ext_resource type="Script" uid="uid://dfowal8cagbn6" path="res://upgrade_manager.gd" id="9_ut2i6"]
[ext_resource type="PackedScene" uid="uid://cu64ncpg4kv17" path="res://skeleton.tscn" id="10_8cye3"]
[ext_resource type="PackedScene" uid="uid://b114qd6csv2hu" path="res://wall.tscn" id="11_2orkt"]
[ext_resource type="PackedScene" uid="uid://boh5x7dnoiic8" path="res://assets/decoration/props/flag_blue.gltf" id="11_sl4om"]
[ext_resource type="PackedScene" uid="uid://cxxnjqtt7ra4m" path="res://assets/buildings/neutral/building_destroyed.gltf" id="12_aicyk"]
[ext_resource type="Script" uid="uid://c564ehcckwp0g" path="res://repair_zone.gd" id="12_dtg4e"]
[ext_resource type="PackedScene" uid="uid://difapg13h16pl" path="res://assets/buildings/blue/building_market_blue.gltf" id="13_8b0r0"]
[ext_resource type="PackedScene" uid="uid://llmklwfx432k" path="res://assets/buildings/blue/building_well_blue.gltf" id="13_v7sqt"]
[ext_resource type="PackedScene" uid="uid://cmvshp5gmb4uj" path="res://assets/buildings/blue/building_home_B_blue.gltf" id="14_fedht"]
[ext_resource type="PackedScene" uid="uid://d3y4x506a7b8" path="res://cloud_spawner.tscn" id="15_v5j5c"]
[ext_resource type="PackedScene" uid="uid://jljc51pnxa6f" path="res://assets/decoration/nature/mountain_C_grass_trees.gltf" id="17_ilwjd"]
[ext_resource type="PackedScene" uid="uid://cd4lhsbl73h2l" path="res://assets/decoration/props/ladder.gltf" id="17_v7sqt"]
[ext_resource type="PackedScene" uid="uid://cs3e08w0jihe3" path="res://hud.tscn" id="18_4c15r"]
[ext_resource type="PackedScene" uid="uid://csgi7cg3j8gfq" path="res://assets/decoration/nature/rock_single_D.gltf" id="18_u3yai"]
[ext_resource type="PackedScene" uid="uid://civ68ptj4fd65" path="res://assets/decoration/nature/hills_A.gltf" id="18_y3bce"]
[ext_resource type="PackedScene" uid="uid://dl58ewejly340" path="res://assets/decoration/nature/waterlily_A.gltf" id="19_fj6e6"]
[ext_resource type="PackedScene" uid="uid://fkdl10cdgyga" path="res://assets/decoration/nature/waterplant_C.gltf" id="20_2h3vt"]
[ext_resource type="PackedScene" uid="uid://cbk2ecjh5rxau" path="res://light.tscn" id="20_42xju"]
[ext_resource type="PackedScene" uid="uid://dyx7ae12cfvy6" path="res://assets/decoration/nature/rock_single_E.gltf" id="21_hvubb"]
[ext_resource type="PackedScene" uid="uid://baunqas633dqm" path="res://assets/decoration/nature/hills_C_trees.gltf" id="21_u3yai"]
[ext_resource type="PackedScene" uid="uid://b5pijnxdxcwt6" path="res://assets/decoration/nature/mountain_A_grass.gltf" id="22_aoqsc"]
[ext_resource type="PackedScene" uid="uid://d3ihgj2et2wto" path="res://assets/buildings/neutral/wall_straight.gltf" id="23_mleqk"]
[ext_resource type="PackedScene" uid="uid://d3al8u7h5y4p6" path="res://assets/tiles/base/hex_water.gltf" id="23_y3bce"]
[ext_resource type="PackedScene" uid="uid://dpn5qqbmhekkb" path="res://assets/decoration/props/flag_red.gltf" id="24_6btg4"]
[ext_resource type="PackedScene" uid="uid://fk15yr4reo4m" path="res://tree_spawner.tscn" id="24_u3yai"]
[ext_resource type="PackedScene" uid="uid://cnrmwucqn6fh2" path="res://assets/dngeon/pillar.gltf" id="26_6btg4"]
[ext_resource type="PackedScene" uid="uid://cbgtvd0fxlwvq" path="res://stairs.tscn" id="26_mleqk"]
[ext_resource type="Script" uid="uid://bdup2eewgeu3d" path="res://woter_physics.gd" id="31_6btg4"]

[sub_resource type="Animation" id="Animation_0b4ue"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight3D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-1.5708, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("DirectionalLight3D:light_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0.358536, 0.776021, 0.744774, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("DirectionalLight3D:light_energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.8]
}

[sub_resource type="Animation" id="Animation_oi3di"]
resource_name = "sun_move"
length = 128.0
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight3D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 128),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-1.5708, 0, 0), Vector3(-4.71239, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("DirectionalLight3D:light_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 4.06667, 17.1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(0.358536, 0.776021, 0.744774, 1), Color(0.660092, 0.723553, 0.353656, 1), Color(0.882457, 0.772484, 0.508933, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("DirectionalLight3D:light_energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(5.9, 19.6667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.8, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_f2txt"]
_data = {
&"RESET": SubResource("Animation_0b4ue"),
&"sun_move": SubResource("Animation_oi3di")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_u3yai"]
size = Vector3(36.385, 5, 23.152)

[sub_resource type="BoxShape3D" id="BoxShape3D_u52ul"]
size = Vector3(67.39, 5, 48.765)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_42xju"]
albedo_color = Color(0.319166, 0.528045, 0.279731, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ilwjd"]
render_priority = 1
shader = ExtResource("3_v7sqt")
shader_parameter/water_color = Color(0, 0.4, 0.8, 1)
shader_parameter/wave_height = 0.1
shader_parameter/wave_speed = 2.0

[sub_resource type="PlaneMesh" id="PlaneMesh_ilwjd"]
material = SubResource("ShaderMaterial_ilwjd")
size = Vector2(40, 30)

[sub_resource type="QuadMesh" id="QuadMesh_vonw3"]
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vonw3"]
render_priority = 0
shader = ExtResource("2_oi3di")
shader_parameter/lightIntensity = 1.25
shader_parameter/lineAlpha = 0.5
shader_parameter/useLighting = true
shader_parameter/lineHighlight = 0.2
shader_parameter/lineShadow = 0.55

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_oi3di"]
sky_top_color = Color(0.383984, 0.527725, 0.613889, 1)
sky_horizon_color = Color(0.694777, 0.746138, 0.754265, 1)
ground_bottom_color = Color(0.13116, 0.192863, 0.139205, 1)
ground_horizon_color = Color(0.694777, 0.746138, 0.754265, 1)

[sub_resource type="Sky" id="Sky_8cye3"]
sky_material = SubResource("ProceduralSkyMaterial_oi3di")

[sub_resource type="Environment" id="Environment_f2txt"]
sky = SubResource("Sky_8cye3")
sky_custom_fov = 121.7
sky_rotation = Vector3(0, 0, -6.28319)
ambient_light_color = Color(0.356511, 0.40927, 0.907102, 1)
tonemap_mode = 2
ssr_enabled = true
glow_enabled = true

[sub_resource type="BoxShape3D" id="BoxShape3D_ilwjd"]
size = Vector3(4.58478, 4.79218, 3.2869)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ut2i6"]
height = 4.22754
radius = 2.0

[sub_resource type="BoxShape3D" id="BoxShape3D_y3bce"]
size = Vector3(4.57794, 2.47375, 9.55518)

[sub_resource type="BoxShape3D" id="BoxShape3D_v7sqt"]
size = Vector3(2.58264, 4.3985, 3.10779)

[sub_resource type="BoxShape3D" id="BoxShape3D_42xju"]
size = Vector3(1, 10, 71.65)

[sub_resource type="BoxShape3D" id="BoxShape3D_mleqk"]
size = Vector3(31.3817, 2.80322, 19.2319)

[node name="level" type="Node3D"]
script = ExtResource("1_ait7k")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(1152, 648)
render_target_update_mode = 4

[node name="player" parent="SubViewportContainer/SubViewport" instance=ExtResource("1_u52ul")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.2987, -0.195307, -11.7591)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, -3.61999e-06, 1, 0, -1, -3.61999e-06, -18.3851, 21.6018, -6.28051)
light_color = Color(0.358536, 0.776021, 0.744774, 1)
light_energy = 0.8
light_angular_distance = 1.0
shadow_enabled = true
shadow_opacity = 0.87
shadow_blur = 1.4
directional_shadow_mode = 1

[node name="AnimationPlayer" type="AnimationPlayer" parent="SubViewportContainer/SubViewport/DirectionalLight3D"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_f2txt")
}
autoplay = "sun_move"

[node name="ground" type="StaticBody3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.049, -1.61032, -9.32819)
collision_layer = 2
collision_mask = 0

[node name="CollisionShape3D2" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0225983, -0.307424, 38.5907)
shape = SubResource("BoxShape3D_u3yai")

[node name="big-grass-collision" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.982, -0.3, 2.569)
shape = SubResource("BoxShape3D_u52ul")

[node name="rocks" type="Node3D" parent="SubViewportContainer/SubViewport/ground"]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="SubViewportContainer/SubViewport/ground"]

[node name="CSGBox3D" type="CSGBox3D" parent="SubViewportContainer/SubViewport/ground/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.9854, -0.00211918, 14.3832)
size = Vector3(67.9155, 4, 71.2336)
material = SubResource("StandardMaterial3D_42xju")

[node name="CSGBox3D2" type="CSGBox3D" parent="SubViewportContainer/SubViewport/ground/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33.8412, -1.90735e-06, 38.6805)
operation = 2
size = Vector3(32.2538, 4, 22.6963)

[node name="woter" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.6333, 0.697887, 34.5024)
mesh = SubResource("PlaneMesh_ilwjd")

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(0.707107, -0.5, 0.5, 0, 0.707107, 0.707107, -0.707107, -0.5, 0.5, 1, 22.87, 1.904)
doppler_tracking = 2
projection = 1
size = 15.4155
script = ExtResource("4_km5ld")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Camera3D"]
visible = false
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_vonw3")
surface_material_override/0 = SubResource("ShaderMaterial_vonw3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport"]
environment = SubResource("Environment_f2txt")

[node name="fps" parent="SubViewportContainer/SubViewport" instance=ExtResource("7_n6hdu")]
visible = false
anchors_preset = -1
anchor_right = 0.025
anchor_bottom = 0.035
offset_left = 518.5
offset_top = 298.5
offset_right = 560.1
offset_bottom = 310.16
scale = Vector2(0.920001, 1)
horizontal_alignment = 2
vertical_alignment = 2

[node name="skeleton" parent="SubViewportContainer/SubViewport" instance=ExtResource("10_8cye3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.01406, 0)

[node name="walls" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="fence_wood_straight2" parent="SubViewportContainer/SubViewport/walls" instance=ExtResource("11_2orkt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.7326, 0.27845, -13.3938)

[node name="fence_wood_straight3" parent="SubViewportContainer/SubViewport/walls" instance=ExtResource("11_2orkt")]
transform = Transform3D(0.00452036, 0, -0.99999, 0, 1, 0, 0.99999, 0, 0.00452036, -22.6595, 0.27845, -29.4131)

[node name="buildings" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="home" type="StaticBody3D" parent="SubViewportContainer/SubViewport/buildings"]
collision_layer = 32
collision_mask = 0
script = ExtResource("9_ut2i6")

[node name="destroyed" parent="SubViewportContainer/SubViewport/buildings/home" instance=ExtResource("12_aicyk")]
transform = Transform3D(4.43505, 0, 2.30874, 0, 5, 0, -2.30874, 0, 4.43505, -22.9618, 0.135121, -18.1009)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/buildings/home"]
transform = Transform3D(0.821328, 0, 0.570456, 0, 1, 0, -0.570456, 0, 0.821328, -22.8926, 2.66537, -18.2043)
shape = SubResource("BoxShape3D_ilwjd")

[node name="repaired" parent="SubViewportContainer/SubViewport/buildings/home" instance=ExtResource("14_fedht")]
transform = Transform3D(0.887011, 0, 0.461749, 0, 1, 0, -0.461749, 0, 0.887011, -22.9, 0.135, -18.1)
visible = false

[node name="flag" parent="SubViewportContainer/SubViewport/buildings/home" instance=ExtResource("11_sl4om")]
transform = Transform3D(-0.589161, 0, -4.96517, 0, 5, 0, 4.96517, 0, -0.589161, -15.7013, 0.68539, -15.2548)

[node name="Area3D" type="Area3D" parent="SubViewportContainer/SubViewport/buildings/home/flag"]
transform = Transform3D(-0.0235664, 0, 0.198607, 0, 0.2, 0, -0.198607, 0, -0.0235664, 2.65968, -0.137078, -3.47787)
script = ExtResource("12_dtg4e")

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/buildings/home/flag/Area3D"]
transform = Transform3D(1, 0, -1.49012e-08, 0, 1, 0, 1.49012e-08, 0, 1, -15.4551, 1.60986, -15.2992)
shape = SubResource("CylinderShape3D_ut2i6")

[node name="Label3D" type="Label3D" parent="SubViewportContainer/SubViewport/buildings/home/flag/Area3D"]
transform = Transform3D(-0.339214, 0, 0.940709, 0, 1, 0, -0.940709, 0, -0.339214, 0.10718, 0.509361, -0.144353)
visible = false
billboard = 1
text = "[E] Repair House (20 Wood)"

[node name="particles" type="GPUParticles3D" parent="SubViewportContainer/SubViewport/buildings/home"]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="SubViewportContainer/SubViewport/buildings/home"]

[node name="market" type="StaticBody3D" parent="SubViewportContainer/SubViewport/buildings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.33257, 0, 14.9149)
collision_layer = 32
collision_mask = 0

[node name="building_market_blue2" parent="SubViewportContainer/SubViewport/buildings/market" instance=ExtResource("13_8b0r0")]
transform = Transform3D(-1.94562, 0, 4.60593, 0, 5, 0, -4.60593, 0, -1.94562, -22.9114, 0.430855, 19.3837)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/buildings/market"]
transform = Transform3D(0.868346, 0, 0.495959, 0, 1, 0, -0.495959, 0, 0.868346, -24.5605, 0.736877, 20.149)
shape = SubResource("BoxShape3D_y3bce")

[node name="well" type="StaticBody3D" parent="SubViewportContainer/SubViewport/buildings"]
transform = Transform3D(-0.0553161, 0, 0.998469, 0, 1, 0, -0.998469, 0, -0.0553161, 0, 0, 0)
collision_layer = 32
collision_mask = 0

[node name="building_well_blue2" parent="SubViewportContainer/SubViewport/buildings/well" instance=ExtResource("13_v7sqt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.147687, 0.673038, -0.0474129)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/buildings/well"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.143372, 1.69925, -0.00970459)
shape = SubResource("BoxShape3D_v7sqt")

[node name="CloudSpawner" parent="SubViewportContainer/SubViewport" instance=ExtResource("15_v5j5c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 120, 0)

[node name="deco" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)

[node name="hills_A2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("18_y3bce")]
transform = Transform3D(-0.74665, 0, 0.665217, 0, 1, 0, -0.665217, 0, -0.74665, -6.21094, 0, -4.25893)

[node name="mountain_C_grass_trees2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("17_ilwjd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.95041, -0.0939438, -5.79966)

[node name="hills_C_trees2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("21_u3yai")]
transform = Transform3D(-0.975512, -3.05813e-08, 0.219948, -4.2989e-08, 1, -5.16254e-08, -0.219948, -5.98165e-08, -0.975512, -3.11641, 0, -5.89713)

[node name="ladder2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("17_v7sqt")]
transform = Transform3D(3.34494, 0, 3.71637, 0, 5, 0, -3.71637, 0, 3.34494, -6.84266, -1.01023, -4.75407)

[node name="rock_single_D2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("18_u3yai")]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 6.085, -0.654864, 6.25487)

[node name="waterlily_A2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("19_fj6e6")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 2.29643, -0.163647, 6.21692)

[node name="waterplant_C2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("20_2h3vt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.54012, 0, 6.40968)

[node name="rock_single_E2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("21_hvubb")]
transform = Transform3D(-1.17162, 0, 2.76176, 0, 3, 0, -2.76176, 0, -1.17162, 3.05423, -0.739673, 6.93353)

[node name="mountain_A_grass2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("22_aoqsc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.9584, -0.619529, 8.05646)

[node name="hills_C_trees3" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("21_u3yai")]
transform = Transform3D(0.999499, 0, -0.031655, 0, 1, 0, 0.031655, 0, 0.999499, 0.808896, -0.0799017, 7.72241)

[node name="waterplant_C3" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("20_2h3vt")]
transform = Transform3D(0.430711, -0.181223, -0.884108, 0.079369, 0.983442, -0.162918, 0.898993, 0, 0.437963, 5.81879, 0, 6.56378)

[node name="wall_straight2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("23_mleqk")]
transform = Transform3D(-0.036696, 0, 0.999327, 0, 1, 0, -0.999327, 0, -0.036696, 7.2425, -0.728545, 4.58459)

[node name="wall_straight3" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("23_mleqk")]
transform = Transform3D(-0.036696, 0, 0.999327, 0, 1, 0, -0.999327, 0, -0.036696, 7.31275, -0.728545, 6.56056)

[node name="wall_straight4" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("23_mleqk")]
transform = Transform3D(0.998848, 0, 0.0479955, 0, 1, 0, -0.0479955, 0, 0.998848, 5.28516, -0.728545, 7.91977)

[node name="wall_straight5" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("23_mleqk")]
transform = Transform3D(0.998848, 0, 0.0479955, 0, 1, 0, -0.0479955, 0, 0.998848, 3.30572, -0.728545, 8.01694)

[node name="wall_straight6" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("23_mleqk")]
transform = Transform3D(0.998848, 0, 0.0479955, 0, 1, 0, -0.0479955, 0, 0.998848, 1.38164, -0.728545, 8.1181)

[node name="flag_red2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("24_6btg4")]
transform = Transform3D(0.665061, 0, 0.746789, 0, 1, 0, -0.746789, 0, 0.665061, 7.02311, 0.796047, 7.95824)

[node name="pillar2" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("26_6btg4")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 1.99907, -1.06132, 4.87666)

[node name="stairs_wide3" parent="SubViewportContainer/SubViewport/deco" instance=ExtResource("26_mleqk")]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 4.28935, -0.937603, 3.61885)

[node name="HUD" parent="SubViewportContainer/SubViewport" instance=ExtResource("18_4c15r")]

[node name="light" parent="SubViewportContainer/SubViewport" instance=ExtResource("20_42xju")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -20.6749, 0.638364, -10.6652)

[node name="tiles" type="Node3D" parent="SubViewportContainer/SubViewport"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)

[node name="hex_water2" parent="SubViewportContainer/SubViewport/tiles" instance=ExtResource("23_y3bce")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.95395, 0, -4.04815)

[node name="tree_spawner" parent="SubViewportContainer/SubViewport" instance=ExtResource("24_u3yai")]

[node name="borders" type="StaticBody3D" parent="SubViewportContainer/SubViewport"]
collision_layer = 32
collision_mask = 0

[node name="top" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/borders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.4838, 1.69872, 5.04643)
shape = SubResource("BoxShape3D_42xju")

[node name="bottom" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/borders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 37.2146, 1.69872, 4.8852)
shape = SubResource("BoxShape3D_42xju")

[node name="left" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/borders"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 3.253, 1, 41.784)
shape = SubResource("BoxShape3D_42xju")

[node name="right" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/borders"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1.49136, 1.69872, -30.2287)
shape = SubResource("BoxShape3D_42xju")

[node name="woter-physics" type="Area3D" parent="SubViewportContainer/SubViewport"]
collision_layer = 2
gravity_space_override = 3
gravity = -9.8
script = ExtResource("31_6btg4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/woter-physics"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20.4267, -2.00246, 28.0536)
shape = SubResource("BoxShape3D_mleqk")

[connection signal="body_entered" from="SubViewportContainer/SubViewport/woter-physics" to="SubViewportContainer/SubViewport/player" method="_on_woterphysics_body_entered"]
[connection signal="body_exited" from="SubViewportContainer/SubViewport/woter-physics" to="SubViewportContainer/SubViewport/player" method="_on_woterphysics_body_exited"]
